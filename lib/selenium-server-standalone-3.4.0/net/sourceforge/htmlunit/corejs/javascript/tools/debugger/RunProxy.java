package net.sourceforge.htmlunit.corejs.javascript.tools.debugger;
















































































































































































































































































class RunProxy
  implements Runnable
{
  static final int OPEN_FILE = 1;
  














































































































































































































































































  static final int LOAD_FILE = 2;
  














































































































































































































































































  static final int UPDATE_SOURCE_TEXT = 3;
  














































































































































































































































































  static final int ENTER_INTERRUPT = 4;
  














































































































































































































































































  private SwingGui debugGui;
  














































































































































































































































































  private int type;
  













































































































































































































































































  String fileName;
  













































































































































































































































































  String text;
  













































































































































































































































































  Dim.SourceInfo sourceInfo;
  













































































































































































































































































  Dim.StackFrame lastFrame;
  













































































































































































































































































  String threadTitle;
  













































































































































































































































































  String alertMessage;
  














































































































































































































































































  public RunProxy(SwingGui debugGui, int type)
  {
    this.debugGui = debugGui;
    this.type = type;
  }
  


  public void run()
  {
    switch (type) {
    case 1: 
      try {
        debugGui.dim.compileScript(this.fileName, text);
      } catch (RuntimeException ex) {
        MessageDialogWrapper.showMessageDialog(debugGui, ex
          .getMessage(), "Error Compiling " + this.fileName, 0);
      }
    

    case 2: 
      try
      {
        debugGui.dim.evalScript(this.fileName, text);
      } catch (RuntimeException ex) {
        MessageDialogWrapper.showMessageDialog(debugGui, ex
          .getMessage(), "Run error for " + this.fileName, 0);
      }
    


    case 3: 
      String fileName = sourceInfo.url();
      if ((!debugGui.updateFileWindow(sourceInfo)) && 
        (!fileName.equals("<stdin>"))) {
        debugGui.createFileWindow(sourceInfo, -1);
      }
      
      break;
    
    case 4: 
      debugGui.enterInterruptImpl(lastFrame, threadTitle, alertMessage);
      break;
    
    default: 
      throw new IllegalArgumentException(String.valueOf(type));
    }
  }
}
