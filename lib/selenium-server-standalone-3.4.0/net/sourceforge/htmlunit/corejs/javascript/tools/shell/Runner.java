package net.sourceforge.htmlunit.corejs.javascript.tools.shell;

import net.sourceforge.htmlunit.corejs.javascript.Context;
import net.sourceforge.htmlunit.corejs.javascript.ContextAction;
import net.sourceforge.htmlunit.corejs.javascript.ContextFactory;
import net.sourceforge.htmlunit.corejs.javascript.Function;
import net.sourceforge.htmlunit.corejs.javascript.Script;
import net.sourceforge.htmlunit.corejs.javascript.Scriptable;













































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































class Runner
  implements Runnable, ContextAction
{
  ContextFactory factory;
  private Scriptable scope;
  private Function f;
  private Script s;
  private Object[] args;
  
  Runner(Scriptable scope, Function func, Object[] args)
  {
    this.scope = scope;
    f = func;
    this.args = args;
  }
  
  Runner(Scriptable scope, Script script) {
    this.scope = scope;
    s = script;
  }
  
  public void run() {
    factory.call(this);
  }
  
  public Object run(Context cx) {
    if (f != null) {
      return f.call(cx, scope, scope, args);
    }
    return s.exec(cx, scope);
  }
}
